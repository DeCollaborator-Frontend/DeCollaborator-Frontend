import React, { useState } from "react";
import { Link } from "react-router-dom";

const Dropdown = () => {
  return (
    <div className="absolute translate-x-[-10px] translate-y-[-330px] rounded text-sm text-white md:right-0 md:mt-[355px] md:w-40 md:translate-x-[-10px] md:translate-y-0 md:bg-[#262626] md:text-base md:shadow-lg">
      <div
        className="py-1"
        role="menu"
        aria-orientation="vertical"
        aria-labelledby="options-menu"
      >
        <Link to="/profile">
          <div className="flex items-center px-3 hover:bg-[gold] hover:text-black">
            <svg
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M15.9998 28C22.6272 28 27.9998 22.6273 27.9998 16C27.9998 9.37263 22.6272 3.99996 15.9998 3.99996C9.3725 3.99996 3.99984 9.37263 3.99984 16C3.99984 22.6273 9.3725 28 15.9998 28ZM15.9998 29.3333C23.3638 29.3333 29.3332 23.364 29.3332 16C29.3332 8.63596 23.3638 2.66663 15.9998 2.66663C8.63584 2.66663 2.6665 8.63596 2.6665 16C2.6665 23.364 8.63584 29.3333 15.9998 29.3333Z"
                fill="currentColor"
              />
              <path
                d="M8 23.7533C8 23.0646 8.51467 22.4826 9.2 22.4066C14.3433 21.8373 17.68 21.8886 22.812 22.4193C23.0683 22.4462 23.3112 22.5472 23.511 22.7099C23.7108 22.8725 23.859 23.0899 23.9373 23.3354C24.0157 23.5809 24.0208 23.8439 23.9521 24.0922C23.8835 24.3406 23.744 24.5636 23.5507 24.734C17.494 30.0133 14.0327 29.9406 8.42667 24.7393C8.15333 24.486 8 24.126 8 23.754V23.7533Z"
                fill="currentColor"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M22.743 23.082C17.6517 22.5553 14.363 22.506 9.27235 23.0693C9.10477 23.0888 8.95029 23.1695 8.83848 23.2958C8.72666 23.4221 8.66538 23.5853 8.66635 23.754C8.66635 23.9446 8.74568 24.1253 8.87968 24.2506C11.6583 26.828 13.7637 27.9926 15.8217 28C17.887 28.0073 20.1057 26.852 23.1123 24.232C23.2079 24.147 23.2766 24.036 23.3103 23.9127C23.3439 23.7893 23.341 23.6588 23.3019 23.5371C23.2628 23.4153 23.1891 23.3076 23.0899 23.2269C22.9907 23.1462 22.8702 23.0961 22.743 23.0826V23.082ZM9.12634 21.744C14.3237 21.1686 17.709 21.2206 22.881 21.756C23.2665 21.7962 23.632 21.948 23.9326 22.1927C24.2332 22.4375 24.4559 22.7645 24.5735 23.1339C24.6911 23.5033 24.6984 23.8989 24.5946 24.2724C24.4908 24.6458 24.2803 24.9809 23.989 25.2366C20.939 27.8953 18.399 29.3433 15.8177 29.3333C13.229 29.324 10.801 27.8513 7.97368 25.228C7.77125 25.0394 7.60987 24.8112 7.49964 24.5574C7.38941 24.3037 7.33268 24.03 7.33301 23.7533C7.33204 23.2563 7.51448 22.7763 7.84539 22.4054C8.1763 22.0346 8.6324 21.7988 9.12634 21.7433V21.744Z"
                fill="currentColor"
              />
              <path
                d="M21.3332 13.3333C21.3332 14.7478 20.7713 16.1044 19.7711 17.1046C18.7709 18.1048 17.4143 18.6667 15.9998 18.6667C14.5853 18.6667 13.2288 18.1048 12.2286 17.1046C11.2284 16.1044 10.6665 14.7478 10.6665 13.3333C10.6665 11.9188 11.2284 10.5623 12.2286 9.5621C13.2288 8.5619 14.5853 8 15.9998 8C17.4143 8 18.7709 8.5619 19.7711 9.5621C20.7713 10.5623 21.3332 11.9188 21.3332 13.3333Z"
                fill="currentColor"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M15.9998 17.3333C17.0607 17.3333 18.0781 16.9119 18.8283 16.1618C19.5784 15.4116 19.9998 14.3942 19.9998 13.3333C19.9998 12.2725 19.5784 11.2551 18.8283 10.5049C18.0781 9.75476 17.0607 9.33333 15.9998 9.33333C14.939 9.33333 13.9216 9.75476 13.1714 10.5049C12.4213 11.2551 11.9998 12.2725 11.9998 13.3333C11.9998 14.3942 12.4213 15.4116 13.1714 16.1618C13.9216 16.9119 14.939 17.3333 15.9998 17.3333ZM15.9998 18.6667C17.4143 18.6667 18.7709 18.1048 19.7711 17.1046C20.7713 16.1044 21.3332 14.7478 21.3332 13.3333C21.3332 11.9188 20.7713 10.5623 19.7711 9.5621C18.7709 8.5619 17.4143 8 15.9998 8C14.5853 8 13.2288 8.5619 12.2286 9.5621C11.2284 10.5623 10.6665 11.9188 10.6665 13.3333C10.6665 14.7478 11.2284 16.1044 12.2286 17.1046C13.2288 18.1048 14.5853 18.6667 15.9998 18.6667Z"
                fill="currentColor"
              />
            </svg>

            <span className="block px-2 py-2 text-base" role="menuitem">
              Profile
            </span>
          </div>
        </Link>
        <Link to="/dashboard">
          <div className="flex items-center px-3 hover:bg-[gold] hover:text-black">
            <svg
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.9998 2.66663C23.3638 2.66663 29.3332 8.63596 29.3332 16C29.3332 23.364 23.3638 29.3333 15.9998 29.3333C8.63584 29.3333 2.6665 23.364 2.6665 16C2.6665 8.63596 8.63584 2.66663 15.9998 2.66663ZM22.1278 9.87196C21.9959 9.73967 21.8216 9.65817 21.6355 9.64183C21.4494 9.62549 21.2635 9.67535 21.1105 9.78263C17.2572 12.4866 15.0838 14.0893 14.5852 14.5853C14.2105 14.9607 14 15.4695 14 16C14 16.5304 14.2105 17.0392 14.5852 17.4146C14.9606 17.7893 15.4694 17.9998 15.9998 17.9998C16.5303 17.9998 17.039 17.7893 17.4145 17.4146C17.7065 17.1213 19.3052 14.9466 22.2118 10.8853C22.32 10.7338 22.3709 10.5488 22.3556 10.3632C22.3402 10.1777 22.2595 10.0036 22.1278 9.87196ZM23.3332 14.6666C22.9795 14.6666 22.6404 14.8071 22.3904 15.0572C22.1403 15.3072 21.9998 15.6463 21.9998 16C21.9998 16.3536 22.1403 16.6927 22.3904 16.9428C22.6404 17.1928 22.9795 17.3333 23.3332 17.3333C23.6868 17.3333 24.0259 17.1928 24.276 16.9428C24.526 16.6927 24.6665 16.3536 24.6665 16C24.6665 15.6463 24.526 15.3072 24.276 15.0572C24.0259 14.8071 23.6868 14.6666 23.3332 14.6666ZM8.6665 14.6666C8.31288 14.6666 7.97374 14.8071 7.7237 15.0572C7.47365 15.3072 7.33317 15.6463 7.33317 16C7.33317 16.3536 7.47365 16.6927 7.7237 16.9428C7.97374 17.1928 8.31288 17.3333 8.6665 17.3333C9.02013 17.3333 9.35926 17.1928 9.60931 16.9428C9.85936 16.6927 9.99984 16.3536 9.99984 16C9.99984 15.6463 9.85936 15.3072 9.60931 15.0572C9.35926 14.8071 9.02013 14.6666 8.6665 14.6666ZM11.7572 9.87196C11.6332 9.74817 11.4861 9.65 11.3242 9.58307C11.1623 9.51615 10.9888 9.48176 10.8136 9.48188C10.6384 9.48201 10.4649 9.51664 10.3031 9.5838C10.1413 9.65095 9.9943 9.74933 9.8705 9.87329C9.62049 10.1237 9.48018 10.4631 9.48043 10.8169C9.48055 10.9921 9.51518 11.1655 9.58234 11.3274C9.6495 11.4892 9.74787 11.6362 9.87184 11.76C10.1222 12.01 10.4616 12.1503 10.8154 12.15C11.1693 12.1498 11.5085 12.009 11.7585 11.7586C12.0085 11.5083 12.1488 11.1688 12.1486 10.815C12.1483 10.4612 12.0075 10.122 11.7572 9.87196ZM15.9998 7.33329C15.6462 7.33329 15.3071 7.47377 15.057 7.72382C14.807 7.97387 14.6665 8.313 14.6665 8.66663C14.6665 9.02025 14.807 9.35939 15.057 9.60944C15.3071 9.85948 15.6462 9.99996 15.9998 9.99996C16.3535 9.99996 16.6926 9.85948 16.9426 9.60944C17.1927 9.35939 17.3332 9.02025 17.3332 8.66663C17.3332 8.313 17.1927 7.97387 16.9426 7.72382C16.6926 7.47377 16.3535 7.33329 15.9998 7.33329Z"
                fill="currentColor"
              />
            </svg>

            <span className="block px-2 py-2 text-base" role="menuitem">
              Dashboard
            </span>
          </div>
        </Link>
        <Link to="/chats">
          <div className="flex items-center px-3 hover:bg-[gold] hover:text-black">
            <svg
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.6665 2.66663H9.33317C5.65317 2.66663 2.6665 5.63996 2.6665 9.30663V17.28V18.6133C2.6665 22.28 5.65317 25.2533 9.33317 25.2533H11.3332C11.6932 25.2533 12.1732 25.4933 12.3998 25.7866L14.3998 28.44C15.2798 29.6133 16.7198 29.6133 17.5998 28.44L19.5998 25.7866C19.8532 25.4533 20.2532 25.2533 20.6665 25.2533H22.6665C26.3465 25.2533 29.3332 22.28 29.3332 18.6133V9.30663C29.3332 5.63996 26.3465 2.66663 22.6665 2.66663ZM10.6665 16C9.91984 16 9.33317 15.4 9.33317 14.6666C9.33317 13.9333 9.93317 13.3333 10.6665 13.3333C11.3998 13.3333 11.9998 13.9333 11.9998 14.6666C11.9998 15.4 11.4132 16 10.6665 16ZM15.9998 16C15.2532 16 14.6665 15.4 14.6665 14.6666C14.6665 13.9333 15.2665 13.3333 15.9998 13.3333C16.7332 13.3333 17.3332 13.9333 17.3332 14.6666C17.3332 15.4 16.7465 16 15.9998 16ZM21.3332 16C20.5865 16 19.9998 15.4 19.9998 14.6666C19.9998 13.9333 20.5998 13.3333 21.3332 13.3333C22.0665 13.3333 22.6665 13.9333 22.6665 14.6666C22.6665 15.4 22.0798 16 21.3332 16Z"
                fill="currentColor"
              />
            </svg>

            <span className="block px-2 py-2 text-base" role="menuitem">
              Chat
            </span>
          </div>
        </Link>
        <Link to="/pricing">
          <div className="flex items-center px-3 hover:bg-[gold] hover:text-black">
            <svg
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.49998 4C7.22805 3.9999 6.96121 4.07373 6.72799 4.21359C6.49478 4.35345 6.30397 4.55407 6.17598 4.794L2.17598 12.294C2.0393 12.5503 1.97997 12.8407 2.00517 13.1301C2.03038 13.4194 2.13905 13.6952 2.31798 13.924L14.818 29.924C14.9583 30.1036 15.1376 30.2488 15.3424 30.3487C15.5472 30.4486 15.7721 30.5005 16 30.5005C16.2279 30.5005 16.4527 30.4486 16.6575 30.3487C16.8623 30.2488 17.0417 30.1036 17.182 29.924L29.682 13.924C29.8606 13.695 29.9689 13.4191 29.9938 13.1298C30.0186 12.8404 29.9589 12.5501 29.822 12.294L25.822 4.794C25.6942 4.55437 25.5037 4.35394 25.2708 4.2141C25.038 4.07427 24.7716 4.00027 24.5 4H7.49998ZM5.73398 12L8.39998 7H10.954L9.70398 12H5.73398ZM6.96598 15H10.054L12.112 21.586L6.96598 15ZM13.196 15H18.804L16 23.972L13.196 15ZM21.946 15H25.034L19.888 21.586L21.948 15H21.946ZM26.266 12H22.296L21.046 7H23.6L26.266 12ZM19.204 12H12.796L14.046 7H17.954L19.204 12Z"
                fill="currentColor"
              />
            </svg>

            <span className="block px-2 py-2 text-base" role="menuitem">
              Pricing Plan
            </span>
          </div>
        </Link>
        <Link to="/settings">
          <div className="flex items-center px-3 hover:bg-[gold] hover:text-black">
            <svg
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.0156 12.2062C15.0813 12.2062 14.2063 12.5687 13.5438 13.2312C12.8844 13.8937 12.5188 14.7687 12.5188 15.703C12.5188 16.6374 12.8844 17.5124 13.5438 18.1749C14.2063 18.8343 15.0813 19.1999 16.0156 19.1999C16.95 19.1999 17.825 18.8343 18.4875 18.1749C19.1469 17.5124 19.5125 16.6374 19.5125 15.703C19.5125 14.7687 19.1469 13.8937 18.4875 13.2312C18.1639 12.9051 17.7788 12.6466 17.3544 12.4706C16.9301 12.2946 16.475 12.2047 16.0156 12.2062ZM28.9 19.5655L26.8563 17.8187C26.9531 17.2249 27.0031 16.6187 27.0031 16.0155C27.0031 15.4124 26.9531 14.803 26.8563 14.2124L28.9 12.4655C29.0544 12.3334 29.1649 12.1573 29.2168 11.9608C29.2687 11.7643 29.2596 11.5567 29.1906 11.3655L29.1625 11.2843C28.6001 9.71144 27.7573 8.25351 26.675 6.98115L26.6188 6.91553C26.4873 6.761 26.3122 6.64992 26.1164 6.59693C25.9206 6.54393 25.7133 6.5515 25.5219 6.61865L22.9844 7.52178C22.0469 6.75303 21.0031 6.14678 19.8719 5.7249L19.3813 3.07178C19.3443 2.87191 19.2473 2.68804 19.1033 2.54458C18.9593 2.40113 18.775 2.30489 18.575 2.26865L18.4906 2.25303C16.8656 1.95928 15.1531 1.95928 13.5281 2.25303L13.4438 2.26865C13.2438 2.30489 13.0595 2.40113 12.9155 2.54458C12.7715 2.68804 12.6745 2.87191 12.6375 3.07178L12.1438 5.7374C11.0232 6.16264 9.97937 6.76742 9.05314 7.52803L6.49689 6.61865C6.30553 6.55097 6.09811 6.54312 5.90219 6.59615C5.70626 6.64918 5.53111 6.76057 5.40002 6.91553L5.34377 6.98115C4.26343 8.25487 3.42086 9.71243 2.85627 11.2843L2.82814 11.3655C2.68752 11.7562 2.80314 12.1937 3.11877 12.4655L5.18752 14.2312C5.09064 14.8187 5.04377 15.4187 5.04377 16.0124C5.04377 16.6124 5.09064 17.2124 5.18752 17.7937L3.12502 19.5593C2.97063 19.6914 2.86013 19.8675 2.80821 20.064C2.7563 20.2605 2.76543 20.4681 2.83439 20.6593L2.86252 20.7405C3.42814 22.3124 4.26252 23.7655 5.35002 25.0437L5.40627 25.1093C5.53768 25.2638 5.71284 25.3749 5.90865 25.4279C6.10445 25.4809 6.31172 25.4733 6.50314 25.4062L9.05939 24.4968C9.99064 25.2624 11.0281 25.8687 12.15 26.2874L12.6438 28.953C12.6808 29.1529 12.7777 29.3368 12.9217 29.4802C13.0658 29.6237 13.25 29.7199 13.45 29.7562L13.5344 29.7718C15.1754 30.0671 16.8559 30.0671 18.4969 29.7718L18.5813 29.7562C18.7813 29.7199 18.9655 29.6237 19.1095 29.4802C19.2535 29.3368 19.3505 29.1529 19.3875 28.953L19.8781 26.2999C21.0094 25.8749 22.0531 25.2718 22.9906 24.503L25.5281 25.4062C25.7195 25.4738 25.9269 25.4817 26.1228 25.4287C26.3188 25.3756 26.4939 25.2642 26.625 25.1093L26.6813 25.0437C27.7688 23.7593 28.6031 22.3124 29.1688 20.7405L29.1969 20.6593C29.3313 20.2718 29.2156 19.8374 28.9 19.5655ZM16.0156 21.1968C12.9813 21.1968 10.5219 18.7374 10.5219 15.703C10.5219 12.6687 12.9813 10.2093 16.0156 10.2093C19.05 10.2093 21.5094 12.6687 21.5094 15.703C21.5094 18.7374 19.05 21.1968 16.0156 21.1968Z"
                fill="currentColor"
              />
            </svg>

            <span className="block px-2 py-2 text-base" role="menuitem">
              Settings
            </span>
          </div>
        </Link>
        <Link to="/analytics">
          <div className="flex items-center px-3 hover:bg-[gold] hover:text-black">
            <svg
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M28.5 8C28.0929 8.00011 27.6921 8.0996 27.3322 8.28983C26.9724 8.48006 26.6644 8.75529 26.4351 9.09159C26.2058 9.42789 26.0621 9.81509 26.0164 10.2196C25.9707 10.624 26.0245 11.0335 26.1731 11.4125L20.9125 16.6731C20.326 16.4423 19.6739 16.4423 19.0875 16.6731L15.3269 12.9125C15.4758 12.5335 15.5298 12.1238 15.4843 11.7191C15.4388 11.3144 15.2952 10.9269 15.0658 10.5904C14.8365 10.2539 14.5284 9.97849 14.1683 9.78817C13.8083 9.59785 13.4072 9.49836 13 9.49836C12.5927 9.49836 12.1917 9.59785 11.8316 9.78817C11.4716 9.97849 11.1635 10.2539 10.9341 10.5904C10.7048 10.9269 10.5611 11.3144 10.5156 11.7191C10.4701 12.1238 10.5242 12.5335 10.6731 12.9125L4.41248 19.1731C3.8778 18.9634 3.28722 18.9441 2.74002 19.1186C2.19283 19.2931 1.7224 19.6507 1.40783 20.1312C1.09326 20.6117 0.953747 21.1859 1.01274 21.7572C1.07173 22.3285 1.32563 22.8621 1.73175 23.2682C2.13787 23.6743 2.67144 23.9283 3.24274 23.9872C3.81404 24.0462 4.38824 23.9067 4.86877 23.5921C5.34931 23.2776 5.70688 22.8071 5.88136 22.26C6.05584 21.7128 6.03659 21.1222 5.82685 20.5875L12.0875 14.3269C12.6739 14.5577 13.326 14.5577 13.9125 14.3269L17.6731 18.0875C17.5242 18.4665 17.4701 18.8762 17.5156 19.2809C17.5611 19.6856 17.7048 20.0731 17.9341 20.4096C18.1635 20.7461 18.4716 21.0215 18.8316 21.2118C19.1917 21.4022 19.5927 21.5016 20 21.5016C20.4072 21.5016 20.8083 21.4022 21.1683 21.2118C21.5284 21.0215 21.8365 20.7461 22.0658 20.4096C22.2952 20.0731 22.4388 19.6856 22.4843 19.2809C22.5298 18.8762 22.4758 18.4665 22.3269 18.0875L27.5875 12.8269C27.9298 12.9614 28.2976 13.0187 28.6646 12.9947C29.0316 12.9707 29.3888 12.866 29.7107 12.6882C30.0326 12.5103 30.3113 12.2636 30.527 11.9656C30.7426 11.6676 30.8898 11.3258 30.9581 10.9644C31.0264 10.603 31.0142 10.231 30.9222 9.87487C30.8302 9.51876 30.6608 9.18733 30.4261 8.90422C30.1913 8.6211 29.8969 8.39327 29.564 8.23697C29.2311 8.08067 28.8678 7.99976 28.5 8Z"
                fill="currentColor"
              />
            </svg>

            <span className="block px-2 py-2 text-base" role="menuitem">
              Analytics
            </span>
          </div>
        </Link>
        <Link to="/">
          <div className="flex items-center px-3 hover:bg-[gold] hover:text-black">
            <svg
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6.66683 2.66675H25.3335C25.6871 2.66675 26.0263 2.80722 26.2763 3.05727C26.5264 3.30732 26.6668 3.64646 26.6668 4.00008V28.0001C26.6668 28.3537 26.5264 28.6928 26.2763 28.9429C26.0263 29.1929 25.6871 29.3334 25.3335 29.3334H6.66683C6.31321 29.3334 5.97407 29.1929 5.72402 28.9429C5.47397 28.6928 5.3335 28.3537 5.3335 28.0001V4.00008C5.3335 3.64646 5.47397 3.30732 5.72402 3.05727C5.97407 2.80722 6.31321 2.66675 6.66683 2.66675ZM12.0002 14.6667V10.6667L5.3335 16.0001L12.0002 21.3334V17.3334H20.0002V14.6667H12.0002Z"
                fill="currentColor"
              />
            </svg>

            <span className="block px-2 py-2 text-base" role="menuitem">
              Sign Out
            </span>
          </div>
        </Link>
      </div>
    </div>
  );
};

export const RoleDropdown = ({ options, selectedRole, onSelect, name }) => {
  const [isOpen, setIsOpen] = useState(false);

  // Toggle dropdown open/close state
  const handleToggleDropdown = () => {
    setIsOpen(!isOpen);
  };

  // Handle role selection and pass the selected role back to the parent
  const handleRoleSelect = (role) => {
    console.log("Selected Role Inside Dropdown:", role);
    onSelect(role);
    setIsOpen(false);
  };

  return (
    <div className="mb-5 flex justify-between rounded-lg border border-gray-500 bg-transparent p-4">
      {/* Name */}
      <p className="mb-2 text-white">{name}</p>

      {/* Dropdown Button */}
      <div className="relative">
        <button
          onClick={handleToggleDropdown}
          className="flex w-full items-center justify-between rounded-lg border border-gray-500 bg-transparent px-4 py-2 text-white"
        >
          {selectedRole || "assign role"}
          <svg
            className={`mx-1 h-4 w-4 fill-current transition-transform duration-200 ${
              isOpen ? "rotate-180" : "rotate-0"
            }`}
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
          >
            <path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" />
          </svg>
        </button>

        {/* Dropdown Options */}
        {isOpen && (
          <div className="mt-2">
            <ul className="w-full rounded-lg border border-gray-500 bg-transparent">
              {options.map((option) => (
                <li
                  key={option}
                  className="cursor-pointer px-4 py-2 text-white hover:bg-gray-600"
                  onClick={() => handleRoleSelect(option)}
                >
                  {option}
                </li>
              ))}
            </ul>
          </div>
        )}
      </div>
    </div>
  );
};
export default Dropdown;
